{% import 'components/modal.html.twig' as modal %}
{% import 'components/modal.item.html.twig' as modalItem %}

<div id="detail-content">
	<h2 class="mb-4">
		<div>
			{{ todolist.name ~ ' (' ~ todolist.items|length ~ ')' }}
		</div>
		<i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#editTodoListModal"></i>
	</h2>
	{% for item in todolist.items %}
		<div class="list">
			<div class="d-flex mb-3">
				<input type="checkbox" class="me-3"/>
				<span class="details me-3 ">{{ item.title }}</span>
				<a href="#" class="me-3">
					<i class="fas fa-plus text-success"></i>
				</a>
				<a href="#">
					<i class="fas fa-times text-danger"></i>
				</a>
			</div>
			{# {% for subItem in item.subItems %}
																										<div class="sublist">
																											<div class="d-flex mb-3">
																												<input type="checkbox" class="me-3"/>
																												<span class="details me-3">{{ subItem }}</span>
																												<a href="#">
																													<i class="fas fa-times text-danger"></i>
																												</a>
																											</div>
																										</div>
																									{% endfor %} #}
		</div>
	{% endfor %}

	<!-- Bootstrap Modal for Editing a New TodoList -->
	{{ modal.render(
		"editTodoListModal",
		"Edit the Todo List name",
		path('app_todolists_update', {'id': todolist.id}),
		"put",
		"Todo List Name",
		"Save",
		"btn-primary",
		"edit_todolist_form",
		todolist.name
	) }}

	<button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addItemModal">
		<i class="fas fa-plus"></i>
		Add a new item</button>

	<!-- Bootstrap Modal for Adding a New Item -->
	{{ modalItem.render(
		"addItemModal",
		"Add New Item",
		path('app_items_create', {'idList': todolist.id}),
		"post",
		"Item title",
		"Save",
		"btn-primary",
		"add_item_form",
		todolist.id
	) }}
</div>
